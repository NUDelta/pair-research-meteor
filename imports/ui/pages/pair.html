<template name="pair">
  <blockquote>Welcome to Pair Research, {{currentUser.username}}.</blockquote>

  <div class="container" id="pair">
    {{#if currentTask}}
      <div class="row">
        <div class="input-field col s6">
          <label class="active">What do you need help with?</label>
          <input name="need" type="text" id="need" value="{{currentTask.task}}" disabled>
        </div>
        <div class="right">
          <a id="clearTask" class="waves-effect waves-light orange accent-2 btn">Clear Task</a>
          <a id="reset" class="waves-effect waves-light red btn">Reset Pool</a>
          <a id="makePairs" class="waves-effect waves-light btn">Make Pairs</a>
        </div>
      </div>

      <span class="input-label-text">How much can you help each of these people?</span>
      <ul class="collection">
        {{#each task in groupTasks}}
          {{> pair_task (pairTaskArgs task)}}
        {{/each}}
      </ul>

      <div class="row">
        {{userCount}} users have entered {{affinityCount}} affinities.
      </div>

      <div class="row" id="pair_results">
        {{#if pairResultCreated}}
          {{> pair_results pairResultArgs}}
        {{else}}
          <div class="preloader-wrapper big active">
            <div class="spinner-layer spinner-blue">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
            </div>

            <div class="spinner-layer spinner-red">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
            </div>

            <div class="spinner-layer spinner-yellow">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
            </div>

            <div class="spinner-layer spinner-green">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
            </div>
          </div>
        {{/if}}
      </div>
    {{else}}
      {{> pair_enter_task pairEnterTaskArgs}}
    {{/if}}
  </div>
</template>
