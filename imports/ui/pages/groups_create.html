<template name="groups_create">
  <div class="container" id="groups_create">
    <div class="row">
      <div class="col s8 offset-s2">
        <h3 class="amber-text text-darken-2">Create a Pair Research Pool</h3>
        <form id="group">
          <h5 class="teal-text">Basics</h5>
          <div class="input-field">
            <label for="name">Group Name</label>
            <input id="name" name="name" type="text" class="validate" required>
          </div>

          <div class="input-field">
            <label for="description">Group Description</label>
            <input id="description" name="description" type="text" class="validate" required>
          </div>

          <p>
            <input type="checkbox" id="publicJoin" name="publicJoin">
            <label for="publicJoin">Allow anyone to find, view, and join group</label>
          </p>
          <p>
            <input type="checkbox" id="allowGuests" name="allowGuests">
            <label for="allowGuests">Allow guests to join pool</label>
          </p>

          <h5 class="teal-text">Roles</h5>
          <p class="info">
            Customizing these will come soon. This gives different participants different titles and
            will eventually support preferred pairings between different groups.
          </p>
          <ul class="collection">
            {{#each role in roles}}
              <li class="collection-item">
                {{ role.title }}
              </li>
            {{/each}}
          </ul>

          <h5 class="teal-text">Members</h5>
          <p class="info">
            Each of these members will be sent an email to join this pair research group.
          </p>
          <div class="input-field valign-wrapper">
            <label for="member" data-error="must be an email">Add member by email</label>
            <input id="member" type="email" name="member">
            <button id="addMember" type="button" class="waves-effect waves-light btn valign">Add</button>
          </div>
          <ul class="collection">
            <li class="collection-item">
              <div class="disabled">
                {{ currentUser.email }}
              </div>
            </li>
            {{#each member in members}}
              <li class="collection-item">
                <div>
                  <span class="title">
                    {{member.email}}
                  </span>
                  <select name="{{@index}}_role">
                    {{#each role in roles}}
                      <option value="{{role.title}}" selected="{{$eq member.role role.title}}">{{role.title}}</option>
                    {{/each}}
                  </select>
                  <a href='#' class="secondary-content" data-index="{{@index}}">
                    <i class="material-icons">delete</i>
                  </a>
                </div>
              </li>
            {{/each}}
          </ul>
          <button id="create-group" class="waves-effect waves-light amber darken-2 btn">Create</button>
        </form>
      </div>
    </div>
  </div>
</template>

